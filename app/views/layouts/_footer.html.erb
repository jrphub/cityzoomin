<div class="footer">
	<a class="left" href="#">&copy;2012&nbsp;An Adict Product</a>
	<a class="left" href="/home">Home</a>
	<a class='activate_modal left' name='modal_window2' href="#">About</a>
	<a class='activate_modal left' name='modal_window1' href="#">Contact</a>
</div>
<div id='mask' class='close_modal'></div>
<div id='modal_window1' class='modal_window'>
	<div id="login">
		<h1>Contact Us</h1>		
			<!-- form -->
			<%= form_for("#", :method => "post",:id=>"formContent") do |f|%>
				<fieldset id="inputs">
					<%= f.label :username %><br>
			      	<%= f.text_field :username,:placeholder=>"Your name please"%>
			      	
			      	<%= f.label :email %><br>
			      	<%= f.text_field :email,:placeholder=>"Your email id please"%>
			      	
			      	<%= f.label :comment %><br>
			      	<%= f.text_area :comment,:placeholder=>"Any comment?", :rows=>"5"%>
			</fieldset>
			<fieldset id="actions">
				<%= f.submit "Submit", :id =>"submit"%>
			</fieldset>
    	<% end %>
	</div>
</div>
<!--for a new modal window, just change the name in the link and put the same name as id in the content -->
<div id='modal_window2' class='modal_window'>
	<div id="login">
		<h1>About Us</h1>
		<h3>Don't memorize it</h3>
		<h3>We are murderer....of time</h3>
	</div>
</div>
<div id='modal_window3' class='modal_window'>
	<div id="login">
		<h1>Login</h1>
		<div id="error" style="margin: 0px;"></div>
		<% flash.each do |key, value| %>
	        <div id="<%= key %>" style="margin: 0px;"><%= value %></div>
	      <% end %>
		<!-- form -->
					
			<!--form id="new_session" action="/sessions" and each element has id user_* -->
			<%= form_for(:session, :url => sessions_path, :html=>{:id=>'session_user', :class=>'session_user'}) do |f| %>
				<!-- if javascript is disabled in a browser, we should provide server side validation. Check giving already registered email id-->
				<!--%= render 'shared/error_messages', object: f.object%-->
				<fieldset id="inputs">
						<%= f.label :email %><br>
				      	<%= f.text_field :email,:placeholder=>"Email", :autofocus=>"required"%>
				      	
						<%= f.label :password %><br>
				      	<%= f.password_field :password,:placeholder=>"Password", :autofocus=>"required" %>
				</fieldset>
				<fieldset id="actions">
					<%= f.submit "Signin", :id =>"submit"%>
			        <a href="forgot_password">Forgot your password?</a>  
			        <p style="padding:3px;font-weight: bold;">New User?<%= link_to "Signup", signup_path%></p>   
		      	</fieldset>
	    	<% end %>
		</div>
	</div>
</div>
<div id='modal_window4' class='modal_window' style="padding-top: 10%;">
	<div id="login">
		
		<h1>Signup</h1>
		<div id="signup_error" style="margin: 0px;"></div>
		<% flash.each do |key, value| %>
	        <div id="<%= key %>" style="margin: 0px;"><%= value %></div>
	      <% end %>
		
		<!-- form -->
		<%@user = User.new%>
				<!--form id="new_user" action="/users" and each element has id user_* -->
			<%= form_for(@user) do |f| %>
			<!-- if javascript is disabled in a browser, we should provide server side validation. Check giving already registered email id-->
			<%= render 'shared/error_messages', object: f.object%>
			
			<fieldset id="inputs">
				<%= f.label :username %><br>
		      	<%= f.text_field :username,:placeholder=>"Your Name"%>
		      	
				<%= f.label :email %><br>
		      	<%= f.text_field :email,:placeholder=>"Email"%>
		      	
				<%= f.label :password %><br>
		      	<%= f.password_field :password,:placeholder=>"Password"%>
		      	
		      	<%= f.label :password_confirmation, "Confirmation" %><br>
		      	<%= f.password_field :password_confirmation,:placeholder=>"Re-enter Password"%>
			</fieldset>
			<fieldset id="actions">
				<%= f.submit "Signup", :id =>"submit"%>
      		</fieldset>
      		<fieldset id="actions">
	      			<p style="padding:5px;font-weight: bold;">Already A User?<%= link_to "Signin", signin_path%></p>
      		</fieldset>
      		
    	<% end %>
    	</div>
	</div>
</div>
<script type="text/javascript" src="/assets/jquery.masonry.min.js"></script>
<script type="text/javascript" src="/assets/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="/assets/image_wall_js.js"></script>
<script type='text/javascript'>

    $(document).ready(function(){
    
    //get the height and width of the page
    var window_width = $(window).width();
    var window_height = $(window).height();
    
    //vertical and horizontal centering of modal window(s)
    /*we will use each function so if we have more then 1 
    modal window we center them all*/
    $('.modal_window').each(function(){
        
        //get the height and width of the modal
        var modal_height = $(this).outerHeight();
        var modal_width = $(this).outerWidth();
        
        //calculate top and left offset needed for centering
        var top = (window_height-modal_height)/2;
        var left = (window_width-modal_width)/2;
        
        //apply new top and left css values 
        $(this).css({'top' : top , 'left' : left});
        
    });

        
        $('.activate_modal').click(function(){
            $('.modal_window').fadeOut(500);
              //get the id of the modal window stored in the name of the activating element       
            var modal_id = $(this).attr('name');
              
              //use the function to show it
            show_modal(modal_id);
        });
        
        $('.close_modal').click(function(){
            
            //use the function to close it
            close_modal();
            
        });
        
    });
    
    //THE FUNCTIONS
    
    function close_modal(){
        
        //hide the mask
        $('#mask').fadeOut(500);
        
        //hide modal window(s)
        $('.modal_window').fadeOut(500);
        
    }
    function show_modal(modal_id){
    
        //set display to block and opacity to 0 so we can use fadeTo
        $('#mask').css({ 'display' : 'block', opacity : 0});
        
        //fade in the mask to opacity 0.8 
        $('#mask').fadeTo(500,0.8);
         
         //show the modal window
        $('#'+modal_id).fadeIn(500);
        
    }
</script>
<%= yield :scripts %>
